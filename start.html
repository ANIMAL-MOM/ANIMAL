<html>

<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
  <title>Animalv0.1</title>


  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,400;0,600;0,900;1,200;1,400;1,600;1,900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <link rel="stylesheet" href="GUI/style.css">
  <link rel="stylesheet" href="GUI/animal.css">
  <style>
    .channel-selected {
      border-style: solid;
    }
  </style>



  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js'></script>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const roomID = urlParams.get('roomID');
    $(document).ready(function () {


      $('#unirme').attr("style", "display: none !important");

      if (roomID) {
        $('#unirme').attr("style", "display: ");
      }
      $(".channels").click(function () {
        $(".channels").removeClass("channel-selected");
        $(this).addClass("channel-selected");
      })

      $("#unirmeARoom").on('click', function (e) {
        e.preventDefault();  //prevent form from submitting
        // store the chNumber of the input with name='age'
        //var canal = $("input[name='channel']:checked").val();
        var mianimal = $(".channel-selected")[0];
        var canal = $(mianimal).attr("chNumber");
        var name = $("#name").val();

        if (roomID && canal) {
          window.location.href = '/sequencer?roomID=' + roomID + '&channel=' + canal + "&name=" + name;
        }
      });


      var socket = io('/start?roomID=' + roomID);
      //  io.connect);
      socket.on('usedChannels', function (usedChannels) {
        console.log(usedChannels);
        usedChannels.forEach(channel => {
          var myChannelUsado = $(".channels")[channel - 1];
          $(myChannelUsado).css("opacity", "0.5");
          $(myChannelUsado).css("pointer-events", "none");
        });
      });
    });




  </script>

</head>

<body>
  <!-- HEADER (navbar) -->
  <div id="Header" class="row navbar">
    <div class="col-12 text-right">
      <div id="MoM_logo">[MoM]</div>
    </div>
  </div>
  <!-- header end -->
  <!-- HERO guest (animal-select) -->
  <div id="unirme"
    class="jumbotron min-vh-100 text-center m-0 d-flex flex-column justify-content-center fondo-rosa-animal">
    <div class="row">
      <!-- WELCOME (left) -->
      <div class="col-md-6">
        <div class="row">

          <div class="col-10 col-sm-9 mx-auto text-center text-md-left">
            <img id="animal-logo" src="GUI/img/landing/Animal_logo_v0.png" class="img-fluid mb-4 px-sm-5 px-md-0">
            <p>Recibiste una invitación a crear música junto a otros animales en una <strong><em>jam
                  session</em></strong> en línea. Escoge uno o varios de los animales disponibles y presiona el botón
              <em>Empezar</em>.</br> <a href="#">[+ info.]</a></p>

          </div>
        </div>
      </div>
      <!-- welcome end -->
      <!-- ANIMAL-SELECT (right) -->
      <div class="col-md-6">
        <div id="sel-inst" class="row mt-2">
          <div class="col-4 col-md-3 channels my-1" chnumber="1">
            <div class="corners-2 fondo-1-animal p-2">
              <div class="d-flex justify-content-around">
                <div class="audio-preview-s">
                  <object id="audio-preview" type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg"
                    class="audio-preview-s">
                    Audio preview
                  </object>
                </div>
                <div id="sel-ch8" class="icon-container-s ml-1">
                  <object type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon-s">
                    Cerdo
                  </object>
                </div>
              </div>
              <div class="titulo text-center pt-1">Cerdo</div>
            </div>
          </div>
          <div class="col-4 col-md-3 channels my-1" chnumber="2">
            <div class="corners-2 fondo-1-animal p-2">
              <div class="d-flex justify-content-around">
                <div class="audio-preview-s">
                  <object id="audio-preview" type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg"
                    class="audio-preview-s">
                    Audio preview
                  </object>
                </div>
                <div id="sel-ch7" class="icon-container-s ml-1">
                  <object type="image/svg+xml" data="GUI/svg/iconos/loro-w.svg" class="animal-icon-s">
                    Loro
                  </object>
                </div>
              </div>
              <div class="titulo text-center pt-1">Loro</div>
            </div>
          </div>
          <div class="col-4 col-md-3 channels my-1" chnumber="3">
            <div class="corners-2 fondo-1-animal p-2">
              <div class="d-flex justify-content-around">
                <div class="audio-preview-s">
                  <object id="audio-preview" type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg"
                    class="audio-preview-s">
                    Audio preview
                  </object>
                </div>
                <div id="sel-ch6" class="icon-container-s ml-1">
                  <object type="image/svg+xml" data="GUI/svg/iconos/sapo-w.svg" class="animal-icon-s">
                    Sapo
                  </object>
                </div>
              </div>
              <div class="titulo text-center pt-1">Sapo</div>
            </div>
          </div>
          <div class="col-4 col-md-3 channels my-1" chnumber="4">
            <div class="corners-2 fondo-1-animal p-2">
              <div class="d-flex justify-content-around">
                <div class="audio-preview-s">
                  <object id="audio-preview" type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg"
                    class="audio-preview-s">
                    Audio preview
                  </object>
                </div>
                <div id="sel-ch5" class="icon-container-s ml-1">
                  <object type="image/svg+xml" data="GUI/svg/iconos/pato-w.svg" class="animal-icon-s">
                    Pato
                  </object>
                </div>
              </div>
              <div class="titulo text-center pt-1">Pato</div>
            </div>
          </div>
          <div class="col-4 col-md-3 channels my-1" chnumber="5">
            <div class="corners-2 fondo-1-animal p-2">
              <div class="d-flex justify-content-around">
                <div class="audio-preview-s">
                  <object id="audio-preview" type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg"
                    class="audio-preview-s">
                    Audio preview
                  </object>
                </div>
                <div id="sel-ch4" class="icon-container-s ml-1">
                  <object type="image/svg+xml" data="GUI/svg/iconos/mono-w.svg" class="animal-icon-s">
                    Mono
                  </object>
                </div>
              </div>
              <div class="titulo text-center pt-1">Mono</div>
            </div>
          </div>
          <div class="col-4 col-md-3 channels my-1" chnumber="6">
            <div class="corners-2 fondo-1-animal p-2">
              <div class="d-flex justify-content-around">
                <div class="audio-preview-s">
                  <object id="audio-preview" type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg"
                    class="audio-preview-s">
                    Audio preview
                  </object>
                </div>
                <div id="sel-ch3" class="icon-container-s ml-1">
                  <object type="image/svg+xml" data="GUI/svg/iconos/gato-w.svg" class="animal-icon-s">
                    Gato
                  </object>
                </div>
              </div>
              <div class="titulo text-center pt-1">Gato</div>
            </div>
          </div>
          <div class="col-4 col-md-3 channels my-1" chnumber="7">
            <div class="corners-2 fondo-1-animal p-2">
              <div class="d-flex justify-content-around">
                <div class="audio-preview-s">
                  <object id="audio-preview" type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg"
                    class="audio-preview-s">
                    Audio preview
                  </object>
                </div>
                <div id="sel-ch2" class="icon-container-s ml-1">
                  <object type="image/svg+xml" data="GUI/svg/iconos/oso-w.svg" class="animal-icon-s">
                    Oso
                  </object>
                </div>
              </div>
              <div class="titulo text-center pt-1">Oso</div>
            </div>
          </div>
          <div class="col-4 col-md-3 channels my-1" chnumber="8">
            <div class="corners-2 fondo-1-animal p-2">
              <div class="d-flex justify-content-around">
                <div class="audio-preview-s">
                  <object id="audio-preview" type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg"
                    class="audio-preview-s">
                    Audio preview
                  </object>
                </div>
                <div id="sel-ch1" class="icon-container-s ml-1">
                  <object type="image/svg+xml" data="GUI/svg/iconos/buho-w.svg" class="animal-icon-s">
                    Buho
                  </object>
                </div>
              </div>
              <div class="titulo text-center pt-1">Buho</div>
            </div>
          </div>
          <div class="col-12 mx-auto mt-3">
            <a class="btn btn-primary btn-lg px-4 py-3" href="#" role="button" id="unirmeARoom">Empezar</a>
          </div>
        </div>
      </div>
      <!-- animal-select end -->
    </div>
    <!-- CARO code
    <form action="">
        <input type="text" val="nombre" id="name">
        <br>
        <input type="radio" id="gato" name="channel" chNumber="8">GATO<br>
        <input type="radio" id="mono" chNumber="7" name="channel">mono<br>
        <input type="radio" id="gallo" chNumber="6" name="channel">gallo<br>
        <input type="radio" id="oso" chNumber="5" name="channel">oso<br>
        <input type="radio" id="loro" chNumber="4" name="channel">loro<br>
        <input type="radio" id="topo" chNumber="3" name="channel">topo<br>
        <input type="radio" id="buho" chNumber="2" name="channel">buho<br>
        <input type="radio" id="coco" chNumber="1" name="channel">coco<br>
        <input type="submit" chNumber="UNIRME AL ROOM!">
    </form>
    -->
  </div>
  <!-- hero guest end -->
  <!-- HERO host -->
  <div id="Hero"
    class="jumbotron min-vh-100 position-relative m-0 p-0 d-flex flex-column justify-content-center text-center overflow-hidden fondo-aqua-animal">
    <!-- Fondo -->
    <div class="h-75 pr-5 position-lt shift-l-200 opacity-1">
      <object type="image/svg+xml" data="GUI/svg/iconos/mono-w.svg" class="h-100">
        Mono
      </object>
    </div>
    <div class="w-50 mb-5 position-lb shift-l-50 opacity-1">
      <object type="image/svg+xml" data="GUI/svg/iconos/pato-w.svg" class="w-50 mt-5">
        Mono
      </object>
    </div>
    <div class="w-75 position-lt animate-down-up-in-1">
      <div class="w-50 pr-md-5">
        <img src="GUI/img/landing/imagen_pato-tx.jpg" class="img-fluid">
      </div>
    </div>
    <div class="w-50 pl-5 pt-md-5 position-rt animate-up-down-in-2">
      <div class="w-75 ml-auto mt-5 pt-5">
        <img src="GUI/img/landing/imagen_loro-tx.jpg" class="img-fluid">
      </div>
    </div>
    <div class="w-75 mx-auto position-b animate-down-up-in-3">
      <div class="w-75 ml-auto">
        <img src="GUI/img/landing/imagen_oso-tx.jpg" class="img-fluid">
      </div>
    </div>
    <!-- fondo end -->
    <div class="container">
      <div class="row d-flex justify-content-center">
        <div class="col-10 col-md-9 col-lg-8 mx-auto">
          <img src="GUI/img/landing/Animal_logo_v0.png" class="img-fluid">
        </div>
        <div class="col-10 col-lg-6 mx-auto mt-5">
          <div class="row">
            <div id="bajada" class="order-1 order-sm-0 col-sm-8">
              <p class="lead text-center text-sm-left"> Ocho animales musicales. Una persona creando varios patrones
                rítmicos, o varias personas creando un patrón rítmico. </br>¡Invita amiges!</p>
              <p class="lead text-center text-sm-left">
                <a href="#">[+ info.]</a>
              </p>
            </div>
            <div class="order-0 order-sm-1 col-sm-4 mb-4 my-sm-auto">
              <a class="btn btn-primary btn-lg px-4 py-3" href='/sequencer?roomID=new' role="button">Empezar</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- hero host end -->
  <!-- CONTENTS -->
  <div class="container-fluid py-5 fondo-verde-animal">
    <!-- Frase e Instrumentos (img) -->
    <div class="row">
      <div id="phrase" class="col-9 col-md-7 mx-auto mt-5 text-center">
        <h3>Animal es un instrumento musical colaborativo en internet. Un secuenciador de sonidos percusivos preparados
          para crear bases rítmicas junto a otres.</h3>
      </div>
      <div class="col-auto my-5">
        <div class="row d-flex justify-content-around">
          <div class="col-6 col-md-3 mb-2">
            <img src="GUI/img/landing/cerdo.png" class="img-fluid"></br>
            <div id="out8"></div>
          </div>
          <div class="col-4 col-md-3 mb-2">
            <img src="GUI/img/landing/sapo.png" class="img-fluid"></br>
            <div id="out5"></div>
          </div>
          <div class="col-4 col-md-3 ml-5 mb-2">
            <img src="GUI/img/landing/mono.png" class="img-fluid"></br>
            <div id="out4"></div>
          </div>
          <div class="col-4 col-md-3 mt-5 mb-2">
            <img src="GUI/img/landing/oso.png" class="img-fluid"></br>
            <div id="out2"></div>
          </div>
          <div class="col-4 col-md-3 mt-3 mb-2">
            <img src="GUI/img/landing/loro.png" class="img-fluid"></br>
            <div id="out7"></div>
          </div>
          <div class="col-6 col-md-3 mb-2">
            <img src="GUI/img/landing/pato.png" class="img-fluid"></br>
            <div id="out5"></div>
          </div>
          <div class="col-4 col-md-3 mb-2">
            <img src="GUI/img/landing/gato.png" class="img-fluid"></br>
            <div id="out3"></div>
          </div>
          <div class="col-4 col-md-3 mt-3 mb-2">
            <img src="GUI/img/landing/buho.png" class="img-fluid"></br>
            <div id="out1"></div>
          </div>
        </div>
      </div>
    </div>
    <!-- Sequencer (img) -->
    <div class="row">
      <div class="col-md-8 my-5 d-flex flex-column">
        <div id="outer2" class="w-100 pl-5 d-flex">
          <div id="in1"></div>
          <div id="in2"></div>
          <div id="in3"></div>
          <div id="in4"></div>
          <div id="in5"></div>
          <div id="in6"></div>
          <div id="in7"></div>
          <div id="in8"></div>
        </div>
        <img src="GUI/img/landing/sequencer.png" class="img-fluid">
      </div>
      <div class="col-9 col-sm-7 col-md-4 ml-auto mb-5 mt-md-5 pr-sm-5 pt-md-5">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Diam ornare neque, sagittis, vel et commodo
          volutpat. Ipsum ipsum nisl blandit pharetra. Dictumst neque.</p>
        <div>audio peview 1</div>
        <div>audio peview 2</div>
      </div>
    </div>
    <!-- Chat y controles (img) -->
    <div class="col-8 col-sm-7 col-md-4 order-1 order-md-0 ml-5 mt-md-5 pl-sm-5 pt-md-5">
      <p>Invita más <del>personas</del> animales como tu a una <strong><em>jam session</em></strong> en línea. Podrán
        usar el chat para coordinar acciones, registrar la sesión como audio y descargarla.</p>
    </div>
    <div class="col-md-7 order-0 order-md-1 my-5">
      <div class="d-flex justify-content-around">
        <div class=""><img src="GUI/img/landing/rec-download-share.png" class="img-fluid"></div>
        <div class=""><img src="GUI/img/landing/chat.png" class="img-fluid"></div>
        <div class=""><img src="GUI/img/landing/controles.png" class="img-fluid"></div>
      </div>
    </div>
  </div>
  </div>
  <!-- contents end -->
  <!-- CTA 2 -->
  <div id="call-to-action" class="container-fluid p-5 fondo-1 destaque-animal">
    <div class="row my-5">
      <div class="col-md-2 m-auto text-center">
        <a class="btn btn-primary btn-lg px-4 py-3" href='/sequencer?roomID=new' role="button">Empezar</a>
      </div>
    </div>
  </div>
  <!-- cta 2 end -->
  <!-- FOOTER -->
  <div id="footer" class="container-fluid py-5 bg-white">
    <div class="row py-md-5">
      <div class="col-7 col-sm-4 col-lg-3 mx-auto mr-sm-0 my-0 px-5 pb-3">
        <img src="GUI/img/landing/Animal-MoM-logo.png" class="img-fluid">
      </div>
      <div class="col-7 col-sm-4 col-lg-3 mx-auto ml-sm-0 mb-5 px-5 pb-3">
        <img src="GUI/img/landing/ANII-logo.png" class="img-fluid">
      </div>
    </div>
  </div>
  <!-- footer end -->
</body>

</html>
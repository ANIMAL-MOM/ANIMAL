<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
  <title>Animalv0.1</title>



  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,400;0,600;0,900;1,200;1,400;1,600;1,900&display=swap"
    rel="stylesheet">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

  <link rel="stylesheet" href="GUI/style.css">
  <script src="/tone/Tone.js"></script>
  <script type="module">
    import * as Tone from "/tone/Tone.js";
  </script>



</head>

<body>


  <!-- MODALS -->


  <!-- JAM Modal -->

  <div class="modal fade" id="jamModal" tabindex="-1" role="dialog" aria-labelledby="jamModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h5 class="modal-title" id="jamModalLabel">Jam</h5>
        </div>

        <!-- MODAL BODY -->

        <div class="modal-body">

          <div class="">
            Escoge tus instrumentos
          </div>
          <div class="row">

            <div class="col-3">
              <div class="corners-2 fondo-1-animal p-2">
                <div class="d-flex justify-content-around">

                  <div class="">
                    <object type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg" class="audio-preview-ch">
                      Audio preview
                    </object>
                  </div>

                  <div class="ml-1">
                    <object type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon-ch">
                      Cerdo
                    </object>
                  </div>

                </div>
                <div class="titulo text-center pt-1">Cerdo</div>
              </div>
            </div>

            <div class="col-3">
              <div class="corners-2 fondo-1-animal p-2">
                <div class="d-flex justify-content-around">

                  <div class="">
                    <object type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg" class="audio-preview-ch">
                      Audio preview
                    </object>
                  </div>

                  <div class="ml-1">
                    <object type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon-ch">
                      Cerdo
                    </object>
                  </div>

                </div>
                <div class="titulo text-center pt-1">Cerdo</div>
              </div>
            </div>

            <div class="col-3">
              <div class="corners-2 fondo-1-animal p-2">
                <div class="d-flex justify-content-around">

                  <div class="">
                    <object type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg" class="audio-preview-ch">
                      Audio preview
                    </object>
                  </div>

                  <div class="ml-1">
                    <object type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon-ch">
                      Cerdo
                    </object>
                  </div>

                </div>
                <div class="titulo text-center pt-1">Cerdo</div>
              </div>
            </div>

            <div class="col-3">
              <div class="corners-2 fondo-1-animal p-2">
                <div class="d-flex justify-content-around">

                  <div class="">
                    <object type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg" class="audio-preview-ch">
                      Audio preview
                    </object>
                  </div>

                  <div class="ml-1">
                    <object type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon-ch">
                      Cerdo
                    </object>
                  </div>

                </div>
                <div class="titulo text-center pt-1">Cerdo</div>
              </div>
            </div>

          </div>

          <div class="row">

            <div class="col-3">
              <div class="corners-2 fondo-1-animal p-2">
                <div class="d-flex justify-content-around">

                  <div class="">
                    <object type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg" class="audio-preview-ch">
                      Audio preview
                    </object>
                  </div>

                  <div class="ml-1">
                    <object type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon-ch">
                      Cerdo
                    </object>
                  </div>

                </div>
                <div class="titulo text-center pt-1">Cerdo</div>
              </div>
            </div>

            <div class="col-3">
              <div class="corners-2 fondo-1-animal p-2">
                <div class="d-flex justify-content-around">

                  <div class="">
                    <object type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg" class="audio-preview-ch">
                      Audio preview
                    </object>
                  </div>

                  <div class="ml-1">
                    <object type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon-ch">
                      Cerdo
                    </object>
                  </div>

                </div>
                <div class="titulo text-center pt-1">Cerdo</div>
              </div>
            </div>

            <div class="col-3">
              <div class="corners-2 fondo-1-animal p-2">
                <div class="d-flex justify-content-around">

                  <div class="">
                    <object type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg" class="audio-preview-ch">
                      Audio preview
                    </object>
                  </div>

                  <div class="ml-1">
                    <object type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon-ch">
                      Cerdo
                    </object>
                  </div>

                </div>
                <div class="titulo text-center pt-1">Cerdo</div>
              </div>
            </div>

            <div class="col-3">
              <div class="corners-2 fondo-1-animal p-2">
                <div class="d-flex justify-content-around">

                  <div class="">
                    <object type="image/svg+xml" data="GUI/svg/botones/boton_audio_w.svg" class="audio-preview-ch">
                      Audio preview
                    </object>
                  </div>

                  <div class="ml-1">
                    <object type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon-ch">
                      Cerdo
                    </object>
                  </div>

                </div>
                <div class="titulo text-center pt-1">Cerdo</div>
              </div>
            </div>

          </div>

          <div class="">
            Invitá animales
          </div>

          <div id="enlace">
            <div class="input-group mb-3">
  <input type="text" class="form-control" placeholder="enlace sesión" aria-label="sesion" aria-describedby="basic-addon2">
  <div class="input-group-append">
    <button class="btn btn-outline-secondary" type="button">Copiar</button>
  </div>
</div>
          </div>

          <!-- modal body end -->

        </div>
        <div class="modal-footer">
        </div>
      </div>
    </div>
  </div>

<!-- jam modal end -->

<!-- HELP Modal -->

<div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="helpModalLabel">Ayuda</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <!-- MODAL BODY -->

      <div class="modal-body">
        ...
      </div>

      <!-- modal body end -->

      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>

<!-- help modal end -->

<!-- SETTINGS Modal -->

<div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h5 class="modal-title" id="settingsModalLabel">Ajustes</h5>

      </div>

      <!-- MODAL BODY -->

      <div class="modal-body">
        <div class="row">

          <div class="col-12">Fondos</div>
          <div class="col-12 d-flex justify-content-around">
            <div class="color-chip-1">x</div>
            <div class="color-chip-2">x</div>
            <div class="color-chip-3">x</div>
            <div class="color-chip-4">x</div>
            <div class="color-chip-1">x</div>
          </div>

          <div class="col-12">Sonidos</div>
          <div class="row">

            <div id="sonidos-kit-1" class="col-6">
              <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-secondary">audio</button>
                <button type="button" class="btn btn-secondary">rock</button>
              </div>
            </div>

            <div id="sonidos-kit-2" class="col-6">
              <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-secondary">audio</button>
                <button type="button" class="btn btn-secondary">pop</button>
              </div>
            </div>

            <div id="sonidos-kit-3" class="col-6">
              <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-secondary">audio</button>
                <button type="button" class="btn btn-secondary">hip-hop</button>
              </div>
            </div>

            <div id="sonidos-kit-4" class="col-6">
              <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-secondary">audio</button>
                <button type="button" class="btn btn-secondary">flamenco</button>
              </div>
            </div>

            <div id="sonidos-kit-5" class="col-6">
              <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-secondary">audio</button>
                <button type="button" class="btn btn-secondary">dub</button>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- modal body end -->

      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>

<!-- setings modal end -->


  <div class="container">

    <!-- HEADER -->

    <div id="Header" class="row">
      <div class="col-md-12 d-flex flex-row justify-content-between">
        <div id="Animal_logo">Animal</div>
        <div id="MoM_logo">[MoM]</div>
      </div>
    </div>

    <!-- header end -->


    <!-- MAIN-UP -->

    <div id="Main-up" class="row">

      <!-- PATHS SVG (#svgContainer) -->

      <div id="svgContainer" style="margin: 50px 50px;">
        <svg id="svg1" width="0" height="0">
          <path id="path1" d="M0 0" stroke="#6D777E" fill="none" stroke-width="8px" ; />
          <path id="path2" d="M0 0" stroke="#B8C5D0" fill="none" stroke-width="8px" ; />
          <path id="path3" d="M0 0" stroke="#6D777E" fill="none" stroke-width="8px" ; />
          <path id="path4" d="M0 0" stroke="#B8C5D0" fill="none" stroke-width="8px" ; />
          <path id="path5" d="M0 0" stroke="#6D777E" fill="none" stroke-width="8px" ; />
          <path id="path6" d="M0 0" stroke="#B8C5D0" fill="none" stroke-width="8px" ; />
          <path id="path7" d="M0 0" stroke="#6D777E" fill="none" stroke-width="8px" ; />
          <path id="path8" d="M0 0" stroke="#B8C5D0" fill="none" stroke-width="8px" ; />
        </svg>
      </div>

      <!-- paths svg end -->

      <!-- INSTRUMENTOS -->

      <span class="d-none d-lg-block">
        <div id="instrumentos" class="row d-flex flex-row justify-content-around text-white">

          <div class="col-3 col-lg-auto m-0 mt-3 p-0 pt-5">
            <div id="buhoInst" class="p-2 d-flex flex-row align-items-end corners1 instrumento-animal gris-animal">
              <div class="d-flex flex-column">
                <div class="animal-icon">
                  <object type="image/svg+xml" data="GUI/svg/iconos/buho-w.svg" class="animal-icon">
                    Buho
                  </object>
                </div>
                <div class="title mt-1">Buh</div>
                <div class="sub_title">Base drum</div>
              </div>
              <div class="dial_container mb-1 ml-1">
                <div id="dial-ins1" class="mom_dial"></div>
              </div>
            </div>
          </div>

          <div class="col-3 col-lg-auto mr-0 ml-1 my-3 p-0">
            <div id="osoInst" class="p-2 d-flex flex-row align-items-end corners1 instrumento-animal chocolate-animal">
              <div class="d-flex flex-column">
                <div class="animal-icon">
                  <object type="image/svg+xml" data="GUI/svg/iconos/oso-w.svg" class="animal-icon">
                    Oso
                  </object>
                </div>
                <div class="title mt-1">Os</div>
                <div class="sub_title">Snare</div>
              </div>
              <div class="dial_container mb-1 ml-1">
                <div id="dial-ins2" class="mom_dial"></div>
              </div>
            </div>
          </div>

          <div class="col-3 col-lg-auto m-0 ml-1 mt-3 p-0 pt-3">
            <div id="gatoInst" class="p-2 d-flex flex-row align-items-end corners1 instrumento-animal gris-animal">
              <div class="d-flex flex-column">
                <div class="animal-icon">
                  <object type="image/svg+xml" data="GUI/svg/iconos/gato-w.svg" class="animal-icon">
                    Gato
                  </object>
                </div>
                <div class="title mt-1">Gat</div>
                <div class="sub_title">Hi hat</div>
              </div>
              <div class="dial_container mb-1 ml-1">
                <div id="dial-ins3" class="mom_dial"></div>
              </div>
            </div>
          </div>

          <div class="col-3 col-lg-auto mr-0 ml-1 my-3 p-0">
            <div id="monoInst" class="p-2 d-flex flex-row align-items-end corners1 instrumento-animal marron-animal">
              <div class="d-flex flex-column">
                <div class="animal-icon">
                  <object type="image/svg+xml" data="GUI/svg/iconos/mono-w.svg" class="animal-icon">
                    Mono
                  </object>
                </div>
                <div class="title mt-1">Mon</div>
                <div class="sub_title">Bass</div>
              </div>
              <div class="dial_container mb-1 ml-1">
                <div id="dial-ins4" class="mom_dial"></div>
              </div>
            </div>
          </div>

          <div class="col-3 col-lg-auto m-0 ml-1 mt-3 p-0 pt-2">
            <div id="patoInst" class="p-2 d-flex flex-row align-items-end corners1 instrumento-animal mostaza-animal">
              <div class="d-flex flex-column">
                <div class="animal-icon">
                  <object type="image/svg+xml" data="GUI/svg/iconos/pato-w.svg" class="animal-icon">
                    Pato
                  </object>
                </div>
                <div class="title mt-1">Pat</div>
                <div class="sub_title">Clave</div>
              </div>
              <div class="dial_container mb-1 ml-1">
                <div id="dial-ins5" class="mom_dial"></div>
              </div>
            </div>
          </div>

          <div class="col-3 col-lg-auto mr-0 ml-1 my-3 p-0">
            <div id="sapoInst" class="p-2 d-flex flex-row align-items-end corners1 instrumento-animal verde-animal">
              <div class="d-flex flex-column">
                <div class="animal-icon">
                  <object type="image/svg+xml" data="GUI/svg/iconos/sapo-w.svg" class="animal-icon">
                    Sapo
                  </object>
                </div>
                <div class="title mt-1">Sap</div>
                <div class="sub_title">Ride</div>
              </div>
              <div class="dial_container mb-1 ml-1">
                <div id="dial-ins6" class="mom_dial"></div>
              </div>
            </div>
          </div>

          <div class="col-3 col-lg-auto m-0 ml-1 mt-3 p-0 pt-3">
            <div id="loroInst" class="p-2 d-flex flex-row align-items-end corners1 instrumento-animal verde-animal">
              <div class="d-flex flex-column">
                <div class="animal-icon">
                  <object type="image/svg+xml" data="GUI/svg/iconos/loro-w.svg" class="animal-icon">
                    Loro
                  </object>
                </div>
                <div class="title mt-1">Lor</div>
                <div class="sub_title">Sampler</div>
              </div>
              <div class="dial_container mb-1 ml-1">
                <div id="dial-ins7" class="mom_dial"></div>
              </div>
            </div>
          </div>

          <div class="col-3 col-lg-auto m-0 ml-1 mt-3 p-0 pt-5">
            <div id="cerdoInst" class="p-2 d-flex flex-row align-items-end corners1 instrumento-animal rosa-animal">
              <div class="d-flex flex-column">
                <div class="animal-icon">
                  <object type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon">
                    Cerdo
                  </object>
                </div>
                <div class="title mt-1">Cerd</div>
                <div class="sub_title">Scratch</div>
              </div>
              <div class="dial_container mb-1 ml-1">
                <div id="dial-ins8" class="mom_dial"></div>
              </div>
            </div>
          </div>

        </div>
      </span>

      <!-- instrumentos end -->

    </div>

    <!-- main-up end -->


    <!-- MAIN-DOWN -->

    <div id="Main-down" class="row mb-5">
      <div id="izq" class="col-lg-2 mx-0 px-0 d-flex align-items-end">
        <div class="row vh-50 w-100 m-0 p-0 pr-lg-1">

          <!-- CHAT -->

          <div id="chat-animal" class="col-6 col-lg-12  m-0 mb-lg-2 p-0">
            <div class="h-100 corners1 figura-1-animal">Chat</div>
          </div>

          <!-- chat end -->


          <!-- CONTROLES -->

          <div id="controles" class="col-6 col-lg-12">
            <div class="row mb-1 p-2 d-flex flex-lg-column corners1 fondo-1-animal">

              <div class="col-8 col-lg-12 p-0 corners1 blanco-ui-animal">

                <div id="bpm" class="border-bottom">
                  <div class="row">
                    <div class="col-3 mx-0 my-auto p-2 text-center border-right">
                      <div id="decrement-btn" class="xyz"><strong>-</strong></div>
                    </div>
                    <div class="col-3 mx-0 my-auto p-2 text-center border-right">
                      <div id="increment-btn" class="xyz"><strong>+</strong></div>
                    </div>

                    <div class="col-6 mx-0 my-auto p-2 text-center">
                      <span class="numero-animal">
                        <strong>120</strong>
                      </span>
                      <span class="texto-animal">bpm</span>
                    </div>
                  </div>
                </div>

                <div id="swing" class="">
                  <div class="row">

                    <div class="col-3 mx-0 my-auto p-2 text-center border-right">
                      <div id="decrement-btn" class="123"><strong>-</strong></div>
                    </div>
                    <div class="col-3 mx-0 my-auto p-2 text-center border-right">
                      <div id="increment-btn" class="123"><strong>+</strong></div>
                    </div>

                    <div class="col-6 mx-0 my-auto p-2 text-center">
                      <span class="numero-animal">
                        <strong>55</strong>
                      </span>
                      <span class="texto-animal">swing</span>
                    </div>
                  </div>
                </div>



              </div>

              <div id="rec-mute" class="col-4 col-lg-12 mt-lg-1 p-0 d-flex flex-column flex-lg-row corners1 blanco-ui-animal">
                <div class="w-auto my-auto p-3 text-center border-bottom border-lg-right">
                  <strong>Rec</strong>
                </div>
                <div class="w-auto my-auto p-3 text-center">
                  <strong>Mute</strong>
                </div>
              </div>

            </div>

            <!-- INSTRUMENTO SELECCIONADO (#sel-inst) -->


            <div id="sel-inst" class="m-0 p-0 d-block d-lg-none d-flex align-items-end text-white overflow-hidden">

              <span class="d-none">
                <div id="buhoInst" class="p-2 d-flex flex-row align-items-end corners1 instrumento-animal gris-animal">
                  <div class="d-flex flex-column">
                    <div class="animal-icon">
                      <object type="image/svg+xml" data="GUI/svg/iconos/buho-w.svg" class="animal-icon">
                        Buho
                      </object>
                    </div>
                    <div class="title mt-1">Buh</div>
                    <div class="sub_title">Base drum</div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ins1-sel" class="mom_dial"></div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ch1-sel" class="mom_dial"></div>
                  </div>
                </div>
              </span>

              <span class="d-none">
                <div id="osoInst" class="p-2 d-none d-flex flex-row align-items-end corners1 instrumento-animal chocolate-animal">
                  <div class="d-flex flex-column">
                    <div class="animal-icon">
                      <object type="image/svg+xml" data="GUI/svg/iconos/oso-w.svg" class="animal-icon">
                        Loro
                      </object>
                    </div>
                    <div class="title mt-1">Os</div>
                    <div class="sub_title">Snare</div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ins2-sel" class="mom_dial"></div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ch2-sel" class="mom_dial"></div>
                  </div>
                </div>
              </span>

              <span class="d-none">
                <div id="gatoInst" class="p-2 d-none d-flex flex-row align-items-end corners1 instrumento-animal gris-animal">
                  <div class="d-flex flex-column">
                    <div class="animal-icon">
                      <object type="image/svg+xml" data="GUI/svg/iconos/gato-w.svg" class="animal-icon">
                        Gato
                      </object>
                    </div>
                    <div class="title mt-1">Gat</div>
                    <div class="sub_title">Hi hat</div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ins3-sel" class="mom_dial"></div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ch3-sel" class="mom_dial"></div>
                  </div>
                </div>
              </span>

              <span class="d-none">
                <div id="monoInst" class="p-2 d-none d-flex flex-row align-items-end corners1 instrumento-animal marron-animal">
                  <div class="d-flex flex-column">
                    <div class="animal-icon">
                      <object type="image/svg+xml" data="GUI/svg/iconos/mono-w.svg" class="animal-icon">
                        Mono
                      </object>
                    </div>
                    <div class="title mt-1">Mon</div>
                    <div class="sub_title">Bass</div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ins4-sel" class="mom_dial"></div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ch4-sel" class="mom_dial"></div>
                  </div>
                </div>
              </span>

              <span class="d-none">
                <div id="patoInst" class="p-2 d-none d-flex flex-row align-items-end corners1 instrumento-animal mostaza-animal">
                  <div class="d-flex flex-column">
                    <div class="animal-icon">
                      <object type="image/svg+xml" data="GUI/svg/iconos/pato-w.svg" class="animal-icon">
                        Pato
                      </object>
                    </div>
                    <div class="title mt-1">Pat</div>
                    <div class="sub_title">Clave</div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ins5-sel" class="mom_dial"></div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ch5-sel" class="mom_dial"></div>
                  </div>
                </div>
              </span>

              <span class="d-none">
                <div id="sapoInst" class="p-2 d-none d-flex flex-row align-items-end corners1 instrumento-animal verde-animal">
                  <div class="d-flex flex-column">
                    <div class="animal-icon">
                      <object type="image/svg+xml" data="GUI/svg/iconos/sapo-w.svg" class="animal-icon">
                        Sapo
                      </object>
                    </div>
                    <div class="title mt-1">Sap</div>
                    <div class="sub_title">Ride</div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ins6-sel" class="mom_dial"></div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ch6-sel" class="mom_dial"></div>
                  </div>
                </div>
              </span>

              <span class="d-none">
                <div id="loroInst" class="p-2 d-none d-flex flex-row align-items-end corners1 instrumento-animal verde-animal">
                  <div class="d-flex flex-column">
                    <div class="animal-icon">
                      <object type="image/svg+xml" data="GUI/svg/iconos/loro-w.svg" class="animal-icon">
                        Loro
                      </object>
                    </div>
                    <div class="title mt-1">Lor</div>
                    <div class="sub_title">Sampler</div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ins7-sel" class="mom_dial"></div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ch7-sel" class="mom_dial"></div>
                  </div>
                </div>
              </span>

              <span class="d-block">
                <div id="cerdoInst" class="p-2 d-flex flex-row align-items-end corners1 instrumento-animal rosa-animal">
                  <div class="d-flex flex-column">
                    <div class="animal-icon">
                      <object type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon">
                        Cerdo
                      </object>
                    </div>
                    <div class="title mt-1">Cerd</div>
                    <div class="sub_title">Scratch</div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ins8-sel" class="mom_dial"></div>
                  </div>
                  <div class="dial_container mb-1 ml-1">
                    <div id="dial-ch8-sel" class="mom_dial"></div>
                  </div>
                </div>
              </span>

            </div>

          </div>

          <!-- controles end -->

        </div>

      </div>
      <div id="der" class="col-lg-10">

        <!-- AUDIO CABLES (#cables) -->

        <div id="cables" class="col-12 pr-5 d-none d-lg-block">
          <div id="outer" class="w-100 d-flex flex-row justify-content-center">
            <div id="inlet1"></div>
            <div id="inlet2"></div>
            <div id="inlet3"></div>
            <div id="inlet4"></div>
            <div id="inlet5"></div>
            <div id="inlet6"></div>
            <div id="inlet7"></div>
            <div id="inlet8"></div>
          </div>
        </div>

        <!-- audio cables end -->

        <div class="row">

          <!-- CHANNEL CONTROL (#ch_control) -->

          <div id="ch_control" class="col-2 my-1 my-lg-0 p-4 corners-l fondo-1-animal">
            <div class="row ">

              <!-- ÍCONOS y DIALES -->

              <div class="col-12 m-0 mb-1 p-0 d-flex flex-row justify-content-around">
                <div class="animal-icon">

                    <object id="icono-ch8" type="image/svg+xml" data="GUI/svg/iconos/cerdo-w.svg" class="animal-icon hue">
                      Cerdo
                    </object>
                </div>
                <div class="dial_container d-none d-lg-block">
                  <div id="dial-ch8" class="mom_dial"></div>
                </div>
              </div>

              <div class="col-12 m-0 mb-1 p-0 d-flex flex-row justify-content-around">
                <div class="animal-icon">
                  <object id="icono-ch7" type="image/svg+xml" data="GUI/svg/iconos/loro-w.svg" class="animal-icon">
                    Loro
                  </object>
                </div>
                <div class="dial_container d-none d-lg-block">
                  <div id="dial-ch7" class="mom_dial"></div>
                </div>
              </div>

              <div class="col-12 m-0 mb-1 p-0 d-flex flex-row justify-content-around">
                <div class="animal-icon">
                  <object id="icono-ch6" type="image/svg+xml" data="GUI/svg/iconos/sapo-w.svg" class="animal-icon">
                    Sapo
                  </object>
                </div>
                <div class="dial_container d-none d-lg-block">
                  <div id="dial-ch6" class="mom_dial"></div>
                </div>
              </div>

              <div class="col-12 m-0 mb-1 p-0 d-flex flex-row justify-content-around">
                <div class="animal-icon">
                  <object id="icono-ch5" type="image/svg+xml" data="GUI/svg/iconos/pato-w.svg" class="animal-icon">
                    Pato
                  </object>
                </div>
                <div class="dial_container d-none d-lg-block">
                  <div id="dial-ch5" class="mom_dial"></div>
                </div>
              </div>

              <div class="col-12 m-0 mb-1 p-0 d-flex flex-row justify-content-around">
                <div class="animal-icon">
                  <object id="icono-ch4" type="image/svg+xml" data="GUI/svg/iconos/mono-w.svg" class="animal-icon">
                    Mono
                  </object>
                </div>
                <div class="dial_container d-none d-lg-block">
                  <div id="dial-ch4" class="mom_dial"></div>
                </div>
              </div>

              <div class="col-12 m-0 mb-1 p-0 d-flex flex-row justify-content-around">
                <div class="animal-icon">
                  <object id="icono-ch3" type="image/svg+xml" data="GUI/svg/iconos/gato-w.svg" class="animal-icon">
                    Gato
                  </object>
                </div>
                <div class="dial_container d-none d-lg-block">
                  <div id="dial-ch3" class="mom_dial"></div>
                </div>
              </div>

              <div class="col-12 m-0 mb-1 p-0 d-flex flex-row justify-content-around">
                <div class="animal-icon">
                  <object id="icono-ch2" type="image/svg+xml" data="GUI/svg/iconos/oso-w.svg" class="animal-icon">
                    Oso
                  </object>
                </div>
                <div class="dial_container d-none d-lg-block">
                  <div id="dial-ch2" class="mom_dial"></div>
                </div>
              </div>

              <div class="col-12 m-0 mb-1 p-0 d-flex flex-row justify-content-around">
                <div class="animal-icon">
                  <object id="icono-ch1" type="image/svg+xml" data="GUI/svg/iconos/buho-w.svg" class="animal-icon">
                    Buho
                  </object>
                </div>
                <div class="dial_container d-none d-lg-block">
                  <div id="dial-ch1" class="mom_dial"></div>
                </div>
              </div>

              <!-- íconos y diales end -->

            </div>
          </div>

          <!-- channel control end -->

          <!-- SECUENCIADOR (#secuenciador) -->

          <div id="secuenciador" class="col-10 col-lg-9 mx-0 my-1 my-lg-0 p-0 pr-lg-1">
            <div class="pl-0 py-4 pr-4 corners-r overflow-hidden fondo-1-animal">
              <div id="seq-animal" class="grid-size"></div>
            </div>
          </div>

          <!-- secuenciador end -->

          <!-- REGISTRO COMPARTIR (#jam-ajustes) -->

          <div id="jam-ajustes" class="col-lg-1 py-4 px-3 d-flex flex-lg-column justify-content-between fondo-1-animal corners1">
            <div id="jam-sesion" class="mx-auto d-flex flex-lg-column">
              <a href="#" id="boton" data-toggle="modal" data-target="#jamModal" role="button">
                <img src="GUI/svg/botones/boton_rec.svg" class="animal-icon">
              </a>
              <div class="m-auto text-center">
                <span class="align-middle">Jam</span>
              </div>
            </div>
            <div id="combo-botones" class="mx-auto d-flex flex-row flex-lg-column">
              <div id="help" class="mx-auto align-self-baseline">
                <a href="#" id="boton" data-toggle="modal" data-target="#helpModal" role="button">
                  <img src="GUI/svg/botones/boton_ayuda.svg" class="animal-icon">
                </a>
              </div>

              <div id="settings" class="mx-auto align-self-baseline">
                <a href="#" id="boton" data-toggle="modal" data-target="#settingsModal" role="button">
                  <img src="GUI/svg/botones/boton_ajustes_w.svg" class="btn-icon">
                </a>
              </div>

            </div>

          </div>

          <!-- registro compartir end -->

        </div>
      </div>
    </div>

    <!-- main-down end -->


  </div>





  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  <script src='https://cdn.jsdelivr.net/npm/nexusui@2.0.13/dist/NexusUI.js'></script>

  <script src="GUI/scriptGUI.js"></script>
  <script src="GUI/svgDraw.js"></script>


  <script src="/socket.io/socket.io.js"></script>

  <script> //NET
    $(function () {
      var myChannel = -1;//todos
      var socket = io(window.location.href);
      //  io.connect);

      socket.on('host', function (newroomID) {



        /* var params = parsedUrl.param();
         params["roomID"] = roomID;
         var newUrl = "?" + $.param(params);
         window.location.search = jQuery.query.set("roomID", roomID);*/

        var currentUrl = window.location.href;
        var url = new URL(currentUrl);
        url.searchParams.set("roomID", newroomID); // setting your param
        var newUrl = url.href;
        let stateObj = { id: "100" };
        window.history.replaceState(stateObj, "roomID", newUrl);


        socket.emit('sequencer', sequencer.matrix.pattern);

      });

      socket.on('guest', function (pattern, channel) {
        sequencer.matrix.set.all(pattern);
        myChannel = channel;
        setMyChannel();
      });

      sequencer.on('change', function (v) {
        console.log("es un cambio");
        console.log(v);
        socket.emit('toggleStep', v);
      });

      function setMyChannel() {
        //setear canal
      }

      socket.on('toggleStep', function (miStep) {
        console.log("llego " + miStep);
        sequencer.matrix.set.cell(miStep.column, miStep.row, miStep.state);

      });


      /*  $('form').submit(function(e) {
          e.preventDefault(); // prevents page reloading
          //      socket.emit('chat message', $('#m').val());
          //    $('#messages').append($('<li>').text($('#m').val()));
          //  $('#m').val('');
          return false;
        });*/


    });
  </script>
  <script type="text/javascript">
    //NEXUs

    var sequencer = new Nexus.Sequencer('#seq-animal', {
      'size': [580, 397],
      'mode': 'toggle',
      'rows': 8,
      'columns': 16
    });

    sequencer.on('change', function (v) {
      // console.log(v);
    });

    sequencer.on('step', function (v) {
      //console.log(v);
    });
    // sequencer.init();
    ////////

    // TONEJS
    var sonidos = new Tone.Players({
      "Buho": "/audios/SA-001.mp3",
      "Oso": "/audios/SA-002.mp3",
      "Gato": "/audios/SA-003.mp3",
      "Sapo": "/audios/SA-004.mp3",
      "Pato": "/audios/SA-005.mp3",
      "Mono": "/audios/SA-006.mp3",
      "Cerdo": "/audios/SA-007.mp3",
      "Loro": "/audios/SA-008.mp3",
    }, {
      "volume": -1,
      "fadeOut": "16n",
    }).toMaster();

    //the notes
    var scaleNotes = ["Buho", "Oso", "Gato", "Sapo", "Pato", "Mono", "Cerdo", "Loro"];
    var stepNumber = 0;
    var loop = 0;

    var matrix = sequencer.matrix.pattern;

    ////GRABAR
    var isRecording;
    const actx = Tone.context;
    const dest = actx.createMediaStreamDestination();
    const recorder = new MediaRecorder(dest.stream);
    sonidos.connect(dest);
    var chunks = [];
    $("#rec-sesion").click(function () {


      if (isRecording) {
        recorder.stop();
        return;
      } else {
        isRecording = true;
        chunks = [];

        recorder.start();

        // dest = actx.createMediaStreamDestination();


        recorder.ondataavailable = evt => chunks.push(evt.data);

        recorder.onstop = evt => {
          let blob = new Blob(chunks, { type: 'audio/ogg; codecs=opus' });

          /*
          var a = document.createElement("a");
          document.body.appendChild(a);
          a.style = "display: none";
          var url = window.URL.createObjectURL(blob);
          a.href = url;
          a.click();
          window.URL.revokeObjectURL(url);
          isRecording = false;*/

          var url = URL.createObjectURL(blob);

          var a = document.createElement('a');
          a.href = url;
          a.download = 'ANIMAL Recording.ogg';
          a.target = "_blank"
          a.click();

        };
      }

    });
    ///GUARDA GRABACION




    $("#Animal_logo").click(function () { //inicia el sequencer
      if (loop === 0) {
        var matrix = sequencer.matrix.pattern;
        loop = new Tone.Sequence(function (time) {

          for (var i = 0; i < 8; i++) {

            if (matrix[i][stepNumber]) {
              sonidos.get(scaleNotes[i]).start(time, 0, "16n", 0, 1);
            }
          }
          stepNumber++;
          stepNumber = stepNumber % 16;
        }, scaleNotes, "16n");
        loop.start();
        loop.loop = true;
      }
      if (Tone.Transport.state == "started") {
        Tone.Transport.stop();
      } else {

        Tone.Transport.start();
      }
    });


  </script>

  <script>
    $(document).ready(function () {
      // reset svg each time
      $("#svg1").attr("height", "0");
      $("#svg1").attr("width", "0");
      connectAll();
    });

    $(window).resize(function () {
      // reset svg each time
      $("#svg1").attr("height", "0");
      $("#svg1").attr("width", "0");
      connectAll();
    });
  </script>

  <script type="text/javascript">
    /*
    $(document).ready(function () {
      $('#jamModal').modal('show');
    });
    */
  </script>


</body>

</html>
